<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MySavings</title>
        <link rel="stylesheet" href="styles.css">
        <style>
            #myCanvas {
            border: 1px solid ivory;
            background-color: black;
        }
        </style>
    </head>
    <body>
        <h1>Neuro-Wave</h1>
        <h3>Neuro-Wave is and open source online application that helps digitally visualize uploaded EEG data.<br>
        Simply Upload your data set and submit.<br>- Yours Truly,<br><h4>Software Nomad</h4></h3>
        <div class="ing">
            <form>
                <input class="upButton" id="fileInput" type="file">
                <button type="button" onclick="uploadFile()">Upload</button>
            </form>
        </div>
        <div class="cerebrumImg">
            <img class="val0"src="brain.png">
            <div class="main">
                <canvas id="myCanvas"></canvas>
                    <script>
                        function uploadFile() {
                            const fileInput = document.getElementById('fileInput');
                            const file = fileInput.files[0];
                            const formData = new FormData();
                            formData.append('file', file);
                
                            fetch('/upload', {
                                method: 'POST',
                                body: formData
                            })
                            .then(response => response.json())
                            .then(data => {
                                console.log('Success:', data);
                            })
                            .catch(error => {
                                console.error('Error:', error);
                            });
                        }
                        const canvas = document.getElementById('myCanvas');
                        const ctx = canvas.getContext('2d');
                        let x = 0;
                        let y =0

                        function drawLine() {
                            ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear the canvas
                            ctx.beginPath();
                            ctx.moveTo(0, canvas.height / 2); // Start at the left middle
                            ctx.lineTo(x, canvas.height / 2); // Draw to the current x position
                            ctx.strokeStyle = 'chartreuse';
                            ctx.lineWidth = 2;
                            ctx.stroke();
                            x += 0.09; // Move the line to the right
                            // if (x > canvas.width) {
                            //     x = 0; // Reset x to start over
                            // }
                            requestAnimationFrame(drawLine); // Call drawLine again for the next frame
                        }

                        drawLine(); // Start the animation
                    </script>
            </div>
        </div>
    </body>
</html>
